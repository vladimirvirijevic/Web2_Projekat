<div class="row mt-5 mb-5">
    <div class="col">
        <h3>Reservations</h3>
    </div>
</div>


<ul class="nav nav-pills mb-4" id="pills-tab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Car Reservations</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Flight Reservations</a>
    </li>
</ul>

<div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">

        
        <div *ngIf="currentReservations.length > 0" class="row mt-5 mb-3">
            <div class="col">
                <div *ngIf="showDeleteError" class="alert alert-danger" role="alert">
                    {{ errorMessage }}
                </div>
                <div *ngIf="showDeleteSuccess" class="alert alert-success" role="alert">
                    Reservation canceled successfully!
                </div>
                <h4>Current Reservations</h4>
                <table class="table mt-4">
                    <thead class="thead">
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Car</th>
                        <th scope="col">User</th>
                        <th scope="col">Pickup date</th>
                        <th scope="col">Dropoff date</th>
                        <th scope="col">Days</th>
                        <th scope="col">Total Price</th>
                        <th scope="col">Status</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let reservation of currentReservations; let i=index">
                        <th>{{ i+1 }}</th>
                        <td><a [routerLink]="'/car/'+reservation.car.id">{{ reservation.car.brand + " " + reservation.car.model}}</a></td>
                        <td>{{ reservation.user.firstName + " " + reservation.user.lastName }}</td>
                        <td>{{ reservation.pickupDate }}</td>
                        <td>{{ reservation.dropoffDate }}</td>
                        <td>{{ reservation.days }}</td>
                        <td>{{ reservation.totalPrice }}</td>
                        <td>{{ reservation.status }}</td>
                        <td><button class="btn btn-danger" (click)="cancelReservation(reservation.id)">Cancel</button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div *ngIf="finishedReservations.length > 0" class="row mt-5">
            <div class="col">
                <h4>Finished Reservations</h4>
                <table class="table mt-4">
                    <thead class="thead">
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Car</th>
                        <th scope="col">User</th>
                        <th scope="col">Pickup date</th>
                        <th scope="col">Dropoff date</th>
                        <th scope="col">Days</th>
                        <th scope="col">Total Price</th>
                        <th scope="col">Status</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let reservation of finishedReservations; let i=index">
                        <th>{{ i+1 }}</th>
                        <td><a [routerLink]="'/car/'+reservation.car.id">{{ reservation.car.brand + " " + reservation.car.model}}</a></td>
                        <td>{{ reservation.user.firstName + " " + reservation.user.lastName }}</td>
                        <td>{{ reservation.pickupDate }}</td>
                        <td>{{ reservation.dropoffDate }}</td>
                        <td>{{ reservation.days }}</td>
                        <td>{{ reservation.totalPrice }}</td>
                        <td>{{ reservation.status }}</td>
                        <td><a [routerLink]="'/reservations/rentacar/'+reservation.id+'/grade'" class="btn btn-success">Grade</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">



    </div>
</div>